---
layout: default
title: 5374連携
---

自治体にて5374アプリを運用されているケースがあります。
- [5374.jp](http://5374.jp/)
- [GitHub](https://github.com/codeforkanazawa-org/5374)
- [Code for Kanazawa](https://codeforkanazawa.org/)

バージョン1.14.0 のゴミ品目検索機能に5374アプリ用のCSVを書き出す処理を追加しました。

## data CSV

5374アプリは [dataディレクトリ下のCSV](https://github.com/codeforkanazawa-org/5374/tree/master/data) により表示項目が決定されます。

CMSにゴミ品目機能のフォルダーを作成し、フォルダー書き出しを実行することで、それぞれのCSVを書き出すことができます。

### area_days.csv

地区毎のごみ収集曜日のCSVです。

以下のようなフォルダー構成を作成してください。

~~~
 - 地区リスト（ゴミDB/ゴミ地区リスト）
   - 地区1（ゴミDB/ゴミ地区）
   - 地区2（ゴミDB/ゴミ地区）
   - 地区3（ゴミDB/ゴミ地区）
   - ...
~~~

地区フォルダー（地区1〜）を編集して、それぞれの地区の収集曜日と回収センターを入力してください。

地区リストを書き出すと、このフォルダー配下の公開画面（[サイトのドキュメントルートディレクトリ](https://shirasagi.github.io/devel/directories.html#-public)）にCSVが書き出されます。

~~~
地区リスト/area_days.csv
~~~

### remarks.csv

ごみ収集曜日の注意事項のCSVです。

地区フォルダーの収集曜日に備考を入力しておくと、area_days.csv と一緒に書き出されます。

~~~
地区リスト/remarks.csv
~~~

### center.csv

ごみ回収センターのCSVです。

以下のようなフォルダー構成を作成してください。

~~~
 - センターリスト（ゴミDB/ゴミ回収センターリスト）
   - 回収センター1（ゴミDB/ゴミ回収センター）
   - 回収センター2（ゴミDB/ゴミ回収センター）
   - 回収センター3（ゴミDB/ゴミ回収センター）
   - ...
~~~

回収センターフォルダー（回収センター1〜）を編集して、休止開始日、休止終了日を入力してください。

センターリストを書き出すと、このフォルダー配下の公開画面（[サイトのドキュメントルートディレクトリ](https://shirasagi.github.io/devel/directories.html#-public)）にCSVが書き出されます。

~~~
センターリスト/center.csv
~~~

### description.csv

ごみ分別区分のCSVです。

以下のようなフォルダー構成を作成してください。

~~~
 - 分別区分リスト（ゴミDB/ゴミ分別区分リスト）
   - 燃えるごみ（ゴミDB/ゴミ分別区分）
   - プラスチック製容器包装類（ゴミDB/ゴミ分別区分）
   - びん・かん・ペットボトル・食用油（ゴミDB/ゴミ分別区分）
   - 燃えないごみ（ゴミDB/ゴミ分別区分）
   - ...
~~~

ゴミ分別区分フォルダー（燃えるごみ〜）を編集して、5374アプリ上でのスタイル、背景色を入力してください。

分別区分リストを書き出すと、このフォルダー配下の公開画面（[サイトのドキュメントルートディレクトリ](https://shirasagi.github.io/devel/directories.html#-public)）にCSVが書き出されます。

~~~
分別区分リスト/description.csv
~~~

### target.csv

ごみ品目のCSVです。

以下のようなフォルダー構成を作成してください。

~~~
 - 品目リスト（ゴミDB/ゴミ品目リスト）
   - 紙コップ（ゴミDB/ゴミ品目）
   - ガムテープ（ゴミDB/ゴミ品目）
   - アルミ缶（ゴミDB/ゴミ品目）
   - ...
~~~

品目リストを書き出すと、このフォルダー配下の公開画面（[サイトのドキュメントルートディレクトリ](https://shirasagi.github.io/devel/directories.html#-public)）にCSVが書き出されます。

~~~
品目リスト/target.csv
~~~

## 連携

書き出されたCSVを、定期実行等により、5374アプリ上のdataディレクトリにコピーすることで連携をおこなう想定です。
