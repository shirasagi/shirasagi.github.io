---
layout: default
title: LDAP 認証の設定
---

## LDAP 認証

シラサギは LDAP 認証をサポートしており、次の手順で有効化することができます。

1. config/ldap.yaml の設定
2. 最も親のグループの DN 設定
3. LDAP 認証させたいユーザーの DN 設定

### config/ldap.yaml の設定

1. config/defaults/ldap.yml を config/ldap.yml へコピーする。
2. config/ldap.yml をテキストエディタで開き LDAP サーバーなどを設定する。
3. シラサギを起動している。もしすでにシラサギが起動してる場合は再起動する。


### 最も親のグループの DN 設定

最も親のグループをルートグループと呼びます。
シラサギのデモサイトのグループ <https://demo.ss-proj.org/.sys/groups> でいうと「シラサギ」「クロサギ市」「アオサギ市」などのグループがルートグループとなります。

1. ブラウザを開き、管理者ユーザーでシラサギの管理画面へログインする。
2. システム設定のグループ (/.sys/groups) を開き、ルートグループを編集する。
3.  ルートグループの DN にその組織が所属する DN を設定する。

### LDAP 認証させたいユーザーの DN 設定

1.  システム設定のユーザー (/.sys/users) を開き、LDAP 認証させたいユーザーを編集する。
2.  ユーザータイプを "LDAP ユーザー" へ変更し、DN にそのユーザーの DN を設定する。
3.  ログアウトし、2 で LDAP を有効にしたユーザーでログインしてみる。

