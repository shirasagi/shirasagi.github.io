---
layout: default
title: LINE投稿連携
---

バージョン1.14.0より記事の公開に連動して LINE へ公開した記事のお知らせを投稿できるようになりました。

以下の仕様になっています。
 - 運用するサイトに、LINE公式アカウントを用意する。
 - シラサギ記事投稿時に、用意したLINE公式アカウントの友達アカウントにプッシュ通知する。
 - プッシュ通知の対象となる友達アカウントは、公式アカウントの友達全て。（[broadcast](https://developers.line.biz/ja/reference/messaging-api/#send-broadcast-message)）

LINE投稿連携を有効にするための設定方法を説明します。

## LINE 投稿連携

1. [LINE公式アカウントを開設します。](https://www.linebiz.com/jp/signup/)
2. [LINE Developer コンソール](https://developers.line.biz/console/) へアクセスし、開設した公式アカウントの Messaging API チャネルを作成します。
3. 作成したチャネルの基本設定より、チャネルシークレットを取得します。
4. Messaging API設定より、チャネルアクセストークンを取得します。
5. 取得したトークンを、シラサギのサイト設定に設定します。対応は次のとおりです。

   | LINE Channel Tokens | シラサギのサイト設定のLINE設定 |
   |--------------------------------|-----------------------------------|
   | チャネル基本設定 ＞ チャネルシークレット | チャンネルシークレット |
   | Messaging API設定 ＞ チャネルアクセストークン（長期）| チャンネルアクセストークン |

以上で設定は完了です。

正しく設定が完了すると、記事投稿時にLINE設定アドオンが表示されます。<br>
投稿形式とLINEメッセージを入力し、記事公開することで、LINE公式アカウントのトーク画面に投稿できます。

注意点として、サムネイル画像等、画像ファイルをトーク画面に投稿する場合、シラサギにSSL設定がされた状態で公開されている必要があります。<br>
LINEのアクセスを拒否してしまう為、BASIC認証も解除する必要があります。
