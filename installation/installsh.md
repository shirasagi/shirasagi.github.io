---
layout: default
title: install.sh
---

シラサギ同梱のインストールスクリプトを利用したインストールに関するマニュアルです。

## 実行可能環境

AlmaLinux8  
※インターネットに接続可能な環境が必要です。

## 実行に必要な情報

ブラウザでアクセスする際のドメイン名または、IPアドレスがインストーラへのパラメータとして必要です。

## 一般ユーザで実行する場合

一般ユーザでインストールスクリプトを実行する場合は、対象のユーザでsudoコマンドが利用できることを確認してください。  
sudoコマンドが利用できない場合は、下記を参考に設定願います。

例)ユーザがssuserの場合

```
# visudo
```

```
%ssuser ALL=(ALL) NOPASSWD: ALL
```

※sudoコマンド実行時に都度ユーザパスワードを求める設定としたい場合、"NOPASSWD:"を削除して設定してください。

## インストールスクリプトの実行

```
$ curl https://raw.githubusercontent.com/shirasagi/shirasagi/master/bin/install.sh | bash -s example.jp
```

・rootユーザかsudoが利用できる一般ユーザで実行してください。  
・パラメーターの"example.jp"の部分に、ブラウザでアクセスする際のドメイン名または、IPアドレスを指定してください。  
・一般ユーザで実行する場合、sudoの設定によっては途中でユーザのパスワードの入力が求められますので、入力してインスト―ルを進めてください。

## インストール後、ドメインの指定を変更する場合

インストールスクリプトのパラメータのドメインをインストール後変更する場合は下記を修正ください。  
(1) /etc/nginx/conf.d/virtual.conf  
　　「server_name」の内容を変更  
　　※nginxの再起動が必要  
(2) 管理画面にログイン後、サイト選択、[サイト設定]-[編集する]  
　　「ドメイン」の内容を変更
